
@{
    Layout = "~/Views/Shared/_Layout.cshtml"; ;
}
@{
    ViewData["Title"] = "Cadastrar Usuário";
}
@{
    int setor;
    setor = 0;
}

@if (TempData["ExisteUsuario"] != null)
{
    <div class="alert alert-warning" role="alert">
        @TempData["ExisteUsuario"]
    </div>
}

<h2>Cadastro de Usuário</h2>
<br />
<form method="post" action="\usuarios\cadastrar\">
    <input type="hidden" name="id" value="" />
    <!--Login-->
    <div class="form-group col-md-auto">
        <label for="login">Login</label>
        <input type="text" name="login" class="form-control" id="login" value="@ViewBag.User.Login" placeholder="" required>
    </div>
    @Html.ValidationMessage("login")
    <!--Nome-->
    <div class="form-group col-md-auto">
        <label for="nome">Nome</label>
        <input type="text" name="nome" class="form-control" id="nome" value="@ViewBag.User.Nome" placeholder="" required>
    </div>
    @Html.ValidationMessage("nome")
    <!--Senha-->
    <div class="form-group col-md-auto">
        <label for="senha">Senha</label>
        <input type="password" name="senha" class="form-control" id="senha" value="@ViewBag.User.Senha" placeholder="" required>
    </div>
    @Html.ValidationMessage("senha")

    <!--Confirmar Senha-->
    <div class="form-group col-md-auto">
        <label for="confirmarsenha">Confirmar Senha</label>
        <input type="password" name="confirmarsenha" class="form-control" id="confirmarsenha" value="@ViewBag.User.Senha" placeholder="" required>
    </div>

    <!--Perfil-->
    <div class="form-group col-md-auto">
        <label for="perifl">Perfil</label>
        <select name="perfil" id="perfil" class="form-control" required value="@ViewBag.User.Perfil">
            <option value="admin">Administrador</option>
            <option value="usuario">Usuário</option>
        </select>
    </div>

    <!--Setor-->
    <div class="form-group p-2">
        <label for="setor">Setor</label>
        <select name="setor" id="setor" class="form-control mb-2" required value="@ViewBag.User.Setor">
            @foreach (var depto in ViewBag.Setores2)
            {
                if (depto.Id == setor)
                {
                    <option value="@depto.Id" selected>@depto.Nome</option>
                }
                else
                {
                    <option value="@depto.Id">@depto.Nome</option>
                }

            }
        </select>
    </div>

    <button type="submit" class="btn btn-primary" id="botaoenviar">Enviar</button>

</form>